@{
    ViewData["Title"] = "Geeksign";
}
<style>
    h1 {
        text-align: center;
    }

    .droptarget {
        text-align: center;
        float: left;
        width: 100px;
        height: 400px;
        margin: 15px;
        padding: 10px;
        border: 1px solid #aaaaaa;
    }

    #drop {
        text-align: center;
        float: left;
        width: 500px;
        height: 400px;
        margin: 15px;
        padding: 10px;
        border: 1px solid #aaaaaa;
    }

    #dragtarget {
        text-align: center;
        margin-top: 30px;
        cursor: move;
        z-index: 10;
    }

    #sub {
        margin-top: 10px;
    }

    #dragbutton {
        margin-top: 30px;
        cursor: move;
    }

    #dragInput {
        margin-top: 30px;
        width: 80px;
    }

    #dragImage {
        margin-top: 30px;
        width: 80px;
        cursor: move;
    }

    #scroll {
        background-color: #fed9ff;
        width: 400px;
        height: 300px;
        overflow-x: hidden;
        overflow-y: auto;
        text-align: center;
        padding: 20px;
    }
</style>
<h2 id="main"></h2>

<div class="droptarget" ondragover="allowDrop(event,this.id)" id="drag">
    <p ondragstart="dragStart(this.id)" draggable="true" id="dragtarget" class="drags">Label</p>
    <p ondragstart="dragStart(this.id)" draggable="true" id="dragbutton" class="drags">Button</p>
    <p ondragstart="dragStart(this.id)" draggable="true" id="dragInput" class="drags">Text Input</p>
    <p ondragstart="dragStart(this.id)" draggable="true" id="dragImage" class="drags">Image</p>
</div>

<div ondrop="drop(this.id)" ondragover="allowDrop(event)" id="drop"></div>
<h2>Edit</h2>
<p id="demo"></p>
<p id="hello"></p>
<div id="scroll">
    <p id="text"></p>
    <p class="edits">Image web link:</p>
    <input class="edits" type="text" id="Inpsrc">
    <input class="edits" type="submit" id="subWeb" onclick="ClickWeb()">
    <br />
    <p class="edits">Text:</p>
    <input class="edits" type="text" id="inp">
    <input class="edits" type="submit" id="sub" onclick="Click()">
    <br />
    <p class="edits"> Margin Right:</p>
    <input class="edits" type="text" id="inpML">
    <input class="edits" type="submit" id="subMarL" onclick="ClickML()">
    <br />
    <p class="edits">Margin Left:</p>
    <input class="edits" type="text" id="inpMR">
    <input class="edits" type="submit" id="subMarR" onclick="ClickMR()">
    <br />
    <p class="edits">Margin Top:</p>
    <input type="text" class="edits" id="inpMT">
    <input class="edits" type="submit" id="subMarT" onclick="ClickMT()">
    <br />
    <p class="edits">Margin Bottom:</p>
    <input type="text" class="edits" id="inpMB">
    <input class="edits" type="submit" id="subMarB" onclick="ClickMB()">
</div>
<h2 id="list"></h2>
<h2 id="list2"></h2>
<button onclick="Update()">Update</button>
<p><button onclick="clickCounter()" type="button">Clear Storage</button></p>
<div id="result"></div>
<script>
    var n = 1;
    var l = "";
    var ele = "";
    var hi = "";
    var Ml = "";
    var Mt = "";
    var Mr = "";
    var Mb = "";
    var arr = [];
    var arrI = "";
    var num = 1;
    var tr = "true";
    var x = document.getElementById("scroll");
    document.getElementById("list").onclick = function () { removeList() };
    x.style.display = "none";
    function dragStart(Chose) {
        event.dataTransfer.setData("Text", event.target.id);
        l = Chose;
    }
    function allowDrop(event) {
        event.preventDefault();
    }
    function drop(chosen) {
        event.preventDefault();
        if (l == document.getElementById("dragbutton").id) {
            cln = document.createElement("BUTTON");
            cln.innerHTML = "button";
            cln.id = "Button" + n.toString();
        }
        else if (l == document.getElementById("dragInput").id) {
            cln = document.createElement("INPUT");
            cln.innerHTML = "Type here: ";
            cln.id = "Input" + n.toString();
        }
        else if (l == document.getElementById("dragImage").id) {
            cln = document.createElement("IMG");
            cln.setAttribute("width", "100");
            cln.setAttribute("height", "100");
            cln.id = "Image" + n.toString();
        }
        else {
            cln = document.createElement("P");
            cln.innerHTML = "Label";
            cln.id = "Label" + n.toString();
        }
        var br = document.createElement("BR");
        arr.push(cln.id);
        document.getElementById("drop").appendChild(br);
        cln.ondblclick = function () { Above(this.id) };
        cln.onclick = function () { Edit(this.id) };
        cln.onmousedown = function () { rightclk(event, this.id) };
        document.getElementById("drop").appendChild(cln);
        document.getElementById("hello").innerHTML = "Click the element you want to change then type your text in the input area bellow this text. Lastly press submit. You can delete elements in your website screen by right clicking.";
        n = n + 1;
        x.style.display = "block";

    }


    function Edit(clicked_id) {
        if (document.getElementById(clicked_id).id != document.getElementById("dragtarget").id) {
            if (document.getElementById(clicked_id).id != document.getElementById("dragInput").id) {
                if (document.getElementById(clicked_id).id != document.getElementById("dragbutton").id) {
                    if (document.getElementById(clicked_id).id != document.getElementById("dragImage").id) {
                        hi = clicked_id;
                        document.getElementById("demo").innerHTML = document.getElementById(hi).id;
                    }
                }
            }
        }

        if (x.getElementsByClassName("edits")[4].style.display === "none") {
            document.getElementById("text").innerHTML = "Label & Button Settings: ";
            for (var d = 0; d <= 3; d++) {
                x.getElementsByClassName("edits")[d].style.display = "none";
            }
            for (var c = 3; c <= 18; c++) {
                x.getElementsByClassName("edits")[c].style.display = "block";
            }
        }
        else {
            document.getElementById("text").innerHTML = "Image Settings: ";
            for (var e = 0; e < 3; e++) {
                x.getElementsByClassName("edits")[e].style.display = "block";
            }
            for (var b = 3; b <= 5; b++) {
                x.getElementsByClassName("edits")[b].style.display = "none";
            }
        }
        ele = document.getElementById("inp").value = document.getElementById(hi).innerHTML;
        Ml = document.getElementById("inpML").value = document.getElementById(hi).style.marginLeft;
        Mr = document.getElementById("inpMR").value = document.getElementById(hi).style.marginRight;
        Mt = document.getElementById("inpMT").value = document.getElementById(hi).style.marginTop;
        Mb = document.getElementById("inpMB").value = document.getElementById(hi).style.marginBottom;
    }
    function Click() {
        ele = document.getElementById("inp").value;
        document.getElementById(hi).innerHTML = ele;
        var newItem = document.createElement("div");
        newItem.innerHTML = document.getElementById("inp").value;
        newItem.onclick = function () { removeList(this) };
        localStorage.setItem("num", num);
        document.getElementById("list2").innerHTML = localStorage.getItem("num");
        newItem.id = localStorage.getItem("num");
        num = num + 1;        
        document.getElementById("list").appendChild(newItem);
        saveList();
    }
   
        function saveList() {
            localStorage.storedList = document.getElementById("list").innerHTML;
            }
            function loadList() {
                document.getElementById("list").innerHTML = localStorage.storedList;
                
                }
                if (localStorage.storedList) {
        loadList();
    }
    function removeList(clicker) {
        var b = clicker.innerHTML;
        alert(b);
        
    }
    function Update() {
        document.getElementById("Label" + 1).innerHTML = document.getElementById("1").innerHTML;        
    }
    var l = 0;
    function clickCounter() {
        localStorage.clear();
        num = 1;
        document.getElementById("list").innerHTML = "";
        document.getElementById("list2").innerHTML = "";
    }
    function ClickML() {
        Ml = document.getElementById("inpML").value;
        document.getElementById(hi).style.marginLeft = Ml + "px";
    }
    function ClickMT() {
        Mt = document.getElementById("inpMT").value;
        document.getElementById(hi).style.marginTop = Mt + "px";
    }
    function ClickMR() {
        Mr = document.getElementById("inpMR").value;
        document.getElementById(hi).style.marginRight = Mr + "px";
    }
    function ClickMB() {
        Mb = document.getElementById("inpMB").value;
        document.getElementById(hi).style.marginBottom = Mb + "px";
    }
    function ClickWeb() {
        document.getElementById(hi).setAttribute("src", document.getElementById("Inpsrc").value);
    }
    function rightclk(event, click) {
        if (event.button == 2) {
            var obj = document.getElementById(click);
            obj.remove();
        }
    }
    var element = "";
    var newItem = "";
    function Hello() {
        newItem.ondblclick = function () { Above(this.id) };
        newItem.onmousedown = function () { rightclk(event, this.id) };
    }
    function Above(rise) {
        var list = document.getElementById("drop");
        for (var a = 0; a < arr.length; a++) {
            if (arr[a] == document.getElementById(rise).id && a != 0) {
                element = document.getElementById(rise);
                newItem = element.cloneNode(true);
                newItem.onclick = function () { Edit(this.id) };
                var el = document.getElementById(arr[a]);
                el.remove();
                arrI = arr[a - 1];
                arr[a - 1] = arr[a];
                arr[a] = arrI;
                list.insertBefore(newItem, list.childNodes[a - 1]);
                Hello();
            }
        }
    }
</script>
